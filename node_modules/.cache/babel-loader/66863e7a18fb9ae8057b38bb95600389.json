{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Moungsung Im\\\\Desktop\\\\\\uCF54\\uB529\\uACF5\\uBD80\\\\searching_function\\\\src\\\\components\\\\WelcomePage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport lang from '../json_lib/language.json';\nimport '../styles/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction WelcomePage() {\n  _s();\n\n  const [keyword, setKeyword] = useState('');\n  const [recommendList, setRecommendList] = useState([]);\n  const [relatedWordIndex, setrelatedWordIndex] = useState(0);\n  var rec_list = document.getElementById('recommend_list');\n\n  var removeList = function (lan, index, copy) {\n    for (let l = 0; l < recommendList.length; l++) {\n      if (recommendList[l] === lan) {\n        index = l;\n        document.getElementById(lan).remove();\n        copy.splice(index, 1);\n        break;\n      }\n    }\n  };\n\n  var recommend = function (k) {\n    //k:입력값.\n    for (var i = 0; i < lang.length; i++) {\n      var lan = lang[i]; //json에 있는 element\n\n      var add = true;\n      let list = document.getElementById('recommend_list'); //index에있는거끼리 맞아야추가함.\n\n      for (var j = 0; j < k.length; j++) {\n        if (lan[j] === undefined || k[j].toLowerCase() !== lan[j].toLowerCase()) {\n          //글자가 다르면 추천안해.\n          add = false; //글자가다르면.. 제거해야하는데..\n\n          let copy = recommendList;\n          let index = -1; //연관된 단어를 추천리스트에서 지운다\n\n          removeList(lan, index, copy); // for(let l = 0; l < recommendList.length; l++){\n          //     if(recommendList[l] === lan){\n          //         index = l;\n          //         // console.log('rem', lan , \" ,remv\" + lan + \"lan j\"+ lan[j] + \" kj\"+ k[j])\n          //         document.getElementById(lan).remove()\n          //         copy.splice(index, 1)\n          //         break;\n          //     }\n          // }\n\n          setRecommendList([...copy]);\n        }\n      } //넣어야하고 list에 연관된 단어가없을경우 추가한다.\n\n\n      if (add && !recommendList.includes(lan)) {\n        console.log(recommendList, recommendList.includes(lan), lan);\n        let copy = recommendList;\n        copy.push(lan);\n        console.log('add', lan);\n        let newone = document.createElement('div');\n        newone.class = 'relatedWord';\n        newone.id = lan;\n        newone.innerText = lan;\n        list.appendChild(newone);\n        setRecommendList([...copy]);\n      }\n    }\n  };\n\n  var search_recommend = function (e) {\n    let forbiddenKeys = ['Shift', 'Control', 'Delete', 'CapsLock', 'Alt', 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Tab', 'Space'];\n    var k = e.target.value;\n\n    if (!forbiddenKeys.includes(e.key)) {\n      if (e.key == 'Backspace') {\n        if (keyword.length != 0) {\n          k = keyword.substring(0, keyword.length - 1);\n        }\n      } else {\n        k += e.key;\n      }\n    } // if(k.length!=0){\n\n\n    recommend(k); //json에 일치하는것들표시\n    // }else{ //지워졌거나 없을경우\n    //     removeList()\n    //     setRecommendList([])\n    // }\n\n    setKeyword(k);\n  };\n\n  window.addEventListener('keydown', e => {\n    if (e.key === 'ArrowDown') {\n      let rwi = relatedWordIndex;\n\n      if (rwi > 0) {\n        let oldhighlightword = rec_list.children[rwi - 1];\n        oldhighlightword.classList.remove('selectedWord');\n      }\n\n      let highlightword = rec_list.children[rwi];\n      highlightword.classList.add('selectedWord');\n      setrelatedWordIndex(relatedWordIndex + 1);\n    } else if (e.key === 'ArrowUp') {\n      let rwi = relatedWordIndex;\n\n      if (rwi < rec_list.children.length) {\n        let oldhighlightword = rec_list.children[rwi + 1];\n        oldhighlightword.classList.remove('selectedWord');\n      }\n\n      let highlightword = rec_list.children[rwi];\n      highlightword.classList.add('selectedWord');\n      setrelatedWordIndex(relatedWordIndex - 1);\n    }\n  }); //prevent form default function\n\n  const stopEvent = e => {\n    e.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"\\uC548\\uB155\\uC548\\uB155\", /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: stopEvent,\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        onKeyDown: search_recommend\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"recommend_list\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n\n_s(WelcomePage, \"Cd77Do7RlVh8CfxD5MdIeYNReFw=\");\n\n_c = WelcomePage;\nexport default WelcomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"WelcomePage\");","map":{"version":3,"names":["useState","lang","WelcomePage","keyword","setKeyword","recommendList","setRecommendList","relatedWordIndex","setrelatedWordIndex","rec_list","document","getElementById","removeList","lan","index","copy","l","length","remove","splice","recommend","k","i","add","list","j","undefined","toLowerCase","includes","console","log","push","newone","createElement","class","id","innerText","appendChild","search_recommend","e","forbiddenKeys","target","value","key","substring","window","addEventListener","rwi","oldhighlightword","children","classList","highlightword","stopEvent","preventDefault"],"sources":["C:/Users/Moungsung Im/Desktop/코딩공부/searching_function/src/components/WelcomePage.js"],"sourcesContent":["import { useState } from 'react'\r\nimport lang from '../json_lib/language.json'\r\nimport '../styles/style.css'\r\nfunction WelcomePage(){\r\n    const [keyword, setKeyword] = useState('')\r\n    const [recommendList, setRecommendList] = useState([])\r\n    const [relatedWordIndex, setrelatedWordIndex] = useState(0)\r\n    var rec_list = document.getElementById('recommend_list')\r\n    var removeList = function(lan, index,copy){\r\n        for(let l = 0; l < recommendList.length; l++){\r\n            if(recommendList[l] === lan){\r\n                index = l;\r\n                document.getElementById(lan).remove()\r\n                copy.splice(index, 1)\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    var recommend = function(k){ //k:입력값.\r\n        \r\n        for(var i = 0 ; i < lang.length; i++){\r\n            var lan = lang[i] //json에 있는 element\r\n            var add = true\r\n            let list = document.getElementById('recommend_list')\r\n            //index에있는거끼리 맞아야추가함.\r\n            for(var j = 0; j< k.length; j++){\r\n                if(lan[j]=== undefined  || k[j].toLowerCase() !== lan[j].toLowerCase()){//글자가 다르면 추천안해.\r\n                    add =false\r\n                    //글자가다르면.. 제거해야하는데..\r\n                    let copy = recommendList\r\n                    let index = -1\r\n                    //연관된 단어를 추천리스트에서 지운다\r\n                    removeList(lan, index,copy)\r\n                    // for(let l = 0; l < recommendList.length; l++){\r\n                    //     if(recommendList[l] === lan){\r\n                    //         index = l;\r\n                    //         // console.log('rem', lan , \" ,remv\" + lan + \"lan j\"+ lan[j] + \" kj\"+ k[j])\r\n                    //         document.getElementById(lan).remove()\r\n                    //         copy.splice(index, 1)\r\n                    //         break;\r\n                    //     }\r\n                    // }\r\n                    \r\n                    setRecommendList([...copy])\r\n                   \r\n                }\r\n            }\r\n            //넣어야하고 list에 연관된 단어가없을경우 추가한다.\r\n            if(add && !recommendList.includes(lan)){\r\n               console.log(recommendList , recommendList.includes(lan) , lan )\r\n\r\n                let copy = recommendList\r\n                copy.push(lan)\r\n                console.log('add', lan)\r\n                let newone = document.createElement('div')\r\n                newone.class = 'relatedWord'\r\n                newone.id = lan\r\n                newone.innerText = lan\r\n                list.appendChild(newone)\r\n                setRecommendList([...copy])\r\n            }\r\n           \r\n        }\r\n    }\r\n    var search_recommend = function(e){\r\n        let forbiddenKeys = ['Shift', 'Control', 'Delete', 'CapsLock', 'Alt','ArrowUp','ArrowDown','ArrowLeft','ArrowRight','Tab','Space']\r\n        var k = e.target.value\r\n        \r\n        if(!forbiddenKeys.includes(e.key)){\r\n            if(e.key == 'Backspace'){\r\n                if(keyword.length !=0){\r\n                    k = keyword.substring(0, keyword.length-1)  \r\n                }\r\n            }\r\n            else{\r\n                k+= e.key\r\n            }\r\n        }\r\n        // if(k.length!=0){\r\n            recommend(k) //json에 일치하는것들표시\r\n        // }else{ //지워졌거나 없을경우\r\n        //     removeList()\r\n        //     setRecommendList([])\r\n        // }\r\n        setKeyword(k)\r\n        \r\n        \r\n    }\r\n    window.addEventListener('keydown', (e)=>{\r\n        if(e.key === 'ArrowDown'){\r\n            let rwi = relatedWordIndex \r\n            if(rwi>0){\r\n                let oldhighlightword = rec_list.children[rwi-1]\r\n                oldhighlightword.classList.remove('selectedWord')\r\n            }\r\n            let highlightword = rec_list.children[rwi]\r\n            highlightword.classList.add('selectedWord')\r\n            setrelatedWordIndex(relatedWordIndex+1)\r\n        }else if(e.key ==='ArrowUp'){\r\n            let rwi = relatedWordIndex \r\n            if(rwi < rec_list.children.length){\r\n                let oldhighlightword = rec_list.children[rwi+1]\r\n                oldhighlightword.classList.remove('selectedWord')\r\n            }\r\n            let highlightword = rec_list.children[rwi]\r\n            highlightword.classList.add('selectedWord')\r\n            setrelatedWordIndex(relatedWordIndex-1)\r\n        }\r\n    })\r\n    //prevent form default function\r\n    const stopEvent = (e) => {\r\n          e.preventDefault();\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            안녕안녕\r\n            <form onSubmit={stopEvent}>\r\n                <input onKeyDown={search_recommend} ></input>\r\n            </form>\r\n            <div id='recommend_list'></div>\r\n        </div>\r\n    )\r\n}\r\nexport default WelcomePage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}